# 位操作符

ECMAScript中的所有数值都以IEEE~754 64位格式存储，但位操作符并不直接操作64位的值。而是将64位的值转换成32位的整数，然后执行操作，最后再将结果转换辉64位。

对于有符号的整数，31位中的前31位用于表示整数的值，第32位用于表示数值的符号：0表示正数，1表示负数。

正数以纯二进制格式存储，31位中的每一位都表示2的幂。

```js
数值18的二进制表示是0000000000000000000000000010010，或者更简洁的10010。

```

负数同样以二进制码存储，但使用的格式是二进制补码。计算一个数值的二进制补码，需要经过下列3个步骤：
* 求这个数值绝对值的二进制码（例如，要求-18的二进制补码，先求18的二进制码）；
* 求二进制反码，即将0替换为1，将1替换为0；
* 得到的二进制反码加1.

```js
要根据这3个步骤求得-18的二进制码，首先就要求得18的二进制码，即：

0000 0000 0000 0000 0000 0000 0001 0010

然后，求其二进制反码，即0和1互换：

1111 1111 1111 1111 1111 1111 1110 1101

最后，二进制反码加1：

1111 1111 1111 1111 1111 1111 1110 1101
                                      1
1111 1111 1111 1111 1111 1111 1111 1110

这样就求得了-18的二进制表示。

```

在以二进制字符串形式输出一个负数时，我们看到的只是这个负数绝对值的二进制码前面加上了一个负号。例如：
```js
var num = -18;
alert(num.toString(2)); // "-10010"
```

#### 按位非（NOT）
按位非操作符由一个波浪线（~）表示，执行按位非的结果就是返回数值的反码

```js
var num1 = 25;  // 二进制00000000000000000000000000011001
var num2 = ~num1;  // 二进制11111111111111111111111111100110
alert(num2);  // -26
```

###### 按位非操作的本质，就是操作数的负值减1


#### 按位与（AND）
按位与操作只在两个数值的对应位都是1时才返回1，任何一位是0，结果都是0

```js
var result = 25 & 3;
alert(result); // 1

25 = 0000 0000 0000 0000 0000 0000 0001 1001
3 = 0000 0000 0000 0000 0000 0000 0000 0011

25&3 = 0000 0000 0000 0000 0000 0000 0000 0001
```

#### 按位或（OR）
按位或操作在有一个位是1的情况下就返回1，而只有在两个位都是0的情况下才返回0

```js
var result = 25 | 3;
alert(result); // 27

25 = 0000 0000 0000 0000 0000 0000 0001 1001
3 =  0000 0000 0000 0000 0000 0000 0000 0011

25|3=0000 0000 0000 0000 0000 0000 0001 1011

```

#### 按位异或（XOR）

这个操作在两个数值对应位上只有一个1 时才返回1，如果对应的两位都是1 或都是0，则返回0

```js
var result = 25 ^ 3;
alert(result); //26

25 = 0000 0000 0000 0000 0000 0000 0001 1001
3 =  0000 0000 0000 0000 0000 0000 0000 0011
---------------------------------------------
25^3=0000 0000 0000 0000 0000 0001 1010 

```


#### 左移
将数值的所有位向左移动指定的位数，原数值的右侧多出的空位以0 来填充


#### 有符号的右移

将数值向右移动，但保留符号位（即正负号标记位）


#### 无符号右移

将数值的所有位都向右移动，原数值的左侧多出的空位以0来填充